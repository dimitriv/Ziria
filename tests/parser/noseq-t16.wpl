fun comp f() { 
  x <- take;
  emit x 
} in

read[int] >>> repeat f() >>> write
